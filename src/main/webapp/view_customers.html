<!DOCTYPE html>
<html lang="en">
<head>

  <title>Customer Details</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body>

<button id="idLoad" onclick="loadCustomer()" >Load Customer</button>

<br/>

<label for="firstName">Customer First Name:</label>
<input type="text" id="firstName"><br><br>

<label for="lastName">Customer Last Name:</label>
<input type="text" id="lastName"><br><br>

<label for="dateOfBirth">Customer Birth Date:</label>
<input type="text" id="dateOfBirth"><br><br>

<script>

  const url = 'http://localhost:8080/BB_REST_APP-1.0-SNAPSHOT/api/customer';

  const customerFirstNameField = document.getElementById('firstName');
  const customerLastNameField = document.getElementById('lastName');
  const customerBirthDateField = document.getElementById('dateOfBirth');

  function loadCustomer(){
    fetch(url)
            .then(response => response.json())
            .then(data => {
              try {
                const customer = data[0];
                customerFirstNameField.value = customer.firstName;
                customerLastNameField.value = customer.lastName;
                customerBirthDateField.value = customer.dateOfBirth;
              } catch (error) {
                console.error(error);
              }
            })
            .catch(error => console.error(error));

    // })
    // .then((data)  => {
    //   let customer = data;
    //   if (data !==null){
    //     document.getElementById("txtFirstName").value = customer.first_name;
    //     document.getElementById("txtLastName").value = customer.last_name;
    //     document.getElementById("txtNic").value = customer.nic;
    //   } else {
    //       document.getElementById("errorMessage").textContent = "No customer data found.";
    //   }
    // });
  }

  // function addCustomer(){
  //   let customer = {
  //     firstname: document.getElementById("firstname").value,
  //     lastname: document.getElementById("lastname").value,
  //     nic: document.getElementById("nic").value
  //   };
  //   fetch(url, {
  //     method: 'POST',
  //     headers: {
  //       'Content-Type': 'application/json'
  //     },
  //     body: JSON.stringify(customer)
  //   })
  //           .then(response => {
  //             if (response.ok) {
  //               console.log('Customer added successfully!');
  //             } else {
  //               console.error('Error adding customer.');
  //             }
  //           })
  //           .catch(error => console.error('Error adding customer:', error));
  // }


</script>

</body>
</html>